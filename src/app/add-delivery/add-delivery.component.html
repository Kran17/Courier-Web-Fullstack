<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <h2 class="text-center mb-4">Add New Delivery</h2>
            <form (ngSubmit)="onSubmit()" class="row g-3">
                <!-- Phone Number -->
                
                <div>
                    <label for="name" class="form-label">Name:</label>
                    <input type="text" id="name" name="name" class="form-control" [(ngModel)]="delivery.name" required>
                </div>
                <div>
                    <label for="phone_number" class="form-label">Phone Number:</label>
                    <input type="text" id="phone_number" name="phone_number" class="form-control" [(ngModel)]="delivery.phone_number" required>
                </div>
                <div class="col-md-6">
                    <button type="button" class="btn btn-primary" (click)="verifyPhoneNumber()">Verify Phone Number</button>
                </div>
                <!-- OTP -->
                <div *ngIf="phoneNumberVerified">
                    <div class="col-md-6">
                        <label for="otp" class="form-label">Enter OTP:</label>
                        <input type="text" id="otp" name="otp" class="form-control" [(ngModel)]="delivery.otp" required>
                    </div>
                    <div class="col-md-6">
                        <button type="button" class="btn btn-primary" (click)="verifyOTP()">Verify OTP</button>
                    </div>
                </div>
                <!-- Sender and Receiver Details -->
                <div *ngIf="phoneNumberVerified && otpVerified">
                    <div class="col-md-6">
                        <label for="sender_name" class="form-label">Sender Name:</label>
                        <input type="text" id="sender_name" name="sender_name" class="form-control" [(ngModel)]="delivery.sender_name" required>
                    </div>
                    <div class="col-md-6">
                        <label for="sender_address" class="form-label">Sender Address:</label>
                        <input type="text" id="sender_address" name="sender_address" class="form-control" [(ngModel)]="delivery.sender_address" required>
                    </div>
                    <div class="col-md-6">
                        <label for="receiver_name" class="form-label">Receiver Name:</label>
                        <input type="text" id="receiver_name" name="receiver_name" class="form-control" [(ngModel)]="delivery.receiver_name" required>
                    </div>
                    <div class="col-md-6">
                        <label for="receiver_address" class="form-label">Receiver Address:</label>
                        <input type="text" id="receiver_address" name="receiver_address" class="form-control" [(ngModel)]="delivery.receiver_address" required>
                    </div>
                </div>
                <!-- Package Details -->
                <div *ngIf="phoneNumberVerified && otpVerified">
                    <div class="col-md-6">
                        <label for="packagename" class="form-label">Package Name:</label>
                        <input type="text" id="packagename" name="packagename" class="form-control" [(ngModel)]="delivery.packagename" required>
                    </div>
                    <div class="col-md-6">
                        <label for="package_description" class="form-label">Package Description:</label>
                        <input type="text" id="package_description" name="package_description" class="form-control" [(ngModel)]="delivery.package_description" required>
                    </div>
                    <div class="col-md-2">
                        <label for="package_weight" class="form-label">Package Weight(kg):</label>
                        <input type="number" id="package_weight" name="package_weight" class="form-control" [(ngModel)]="delivery.package_weight" required>
                    </div>
                    <div class="col-md-2">
                        <label for="package_length" class="form-label">Package Length(cm):</label>
                        <input type="number" id="package_length" name="package_length" class="form-control" [(ngModel)]="delivery.package_length" required>
                    </div>
                    <div class="col-md-2">
                        <label for="package_width" class="form-label">Package Width(cm):</label>
                        <input type="number" id="package_width" name="package_width" class="form-control" [(ngModel)]="delivery.package_width" required>
                    </div>
                    <div class="col-md-2">
                        <label for="package_height" class="form-label">Package Height(cm):</label>
                        <input type="number" id="package_height" name="package_height" class="form-control" [(ngModel)]="delivery.package_height" required>
                    </div>
                </div>
                <!-- Service Type and Price -->
                <div *ngIf="phoneNumberVerified && otpVerified">
                    <div class="col-md-5">
                        <label for="service_type" class="form-label">Service Type:</label>
                        <select id="service_type" name="service_type" class="form-select" [(ngModel)]="delivery.service_type" required>
                            <option value="standard">Standard</option>
                            <option value="express">Express</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label for="price" class="form-label">Price:</label>
                        <input type="number" id="price" name="price" class="form-control" [(ngModel)]="delivery.price" readonly>
                    </div>
                </div>
                <!-- Submit Button -->
                <div class="col-12">
                    <button type="submit" class="btn btn-outline-primary">Submit and add</button><br><br>
                    <!-- Add a separate button for payment -->
                    <a routerLink="/payment" class="btn btn-outline-primary">PAY</a>
                </div>
            </form>
        </div>
    </div>
</div>
